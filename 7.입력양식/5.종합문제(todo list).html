<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
  <script>
    document.addEventListener("DOMContentLoaded",()=>{

      //아래 함수는 66행 부터의 내용을
      //55행에도 적용하기 위해
      //하나의 함수로 표현한 것이므로 중요하지않음
      const addTodo = ()=> {
        if (input.value == "") {
            alert("내용을 입력하세요");
          }else{
            const div = document.createElement("div");
            document.body.appendChild(div)
    
            const checkbox = document.createElement("input");
            checkbox.type="checkbox"
            div.appendChild(checkbox)
            checkbox.addEventListener("change",()=>{
              if (checkbox.checked) {
                span.style.textDecoration = "line-through"
              }else{
                span.style.textDecoration = "none"
              }
            })
  
            const span = document.createElement("span");
            span.textContent = input.value
            div.appendChild(span)
    
            const deleteButton = document.createElement("button");
            deleteButton.textContent = "X"
            div.appendChild(deleteButton)
            deleteButton.addEventListener("click",()=>{
              div.parentNode.removeChild(div)
            })
    
            input.value = ""
        }
      }

      const h1 = document.createElement("h1");
      h1.textContent = "할 일 목록"
      document.body.appendChild(h1)

      const input = document.createElement("input");
      document.body.appendChild(input)
      input.addEventListener("keyup",(e)=>{
        if (e.keyCode==13) {
          addTodo()
        }
      })

      const addButton = document.createElement("button");
      addButton.textContent = "추가"
      document.body.appendChild(addButton)


      addButton.addEventListener("click",()=>{
        if (input.value == "") {
          alert("내용을 입력하세요");
        }else{
          const div = document.createElement("div");
          document.body.appendChild(div)
  
          const checkbox = document.createElement("input");
          checkbox.type="checkbox"
          div.appendChild(checkbox)
          checkbox.addEventListener("change",()=>{
            if (checkbox.checked) {
              span.style.textDecoration = "line-through"
            }else{
              span.style.textDecoration = "none"
            }
          })

          const span = document.createElement("span");
          span.textContent = input.value
          div.appendChild(span)
  
          const deleteButton = document.createElement("button");
          deleteButton.textContent = "X"
          div.appendChild(deleteButton)
          deleteButton.addEventListener("click",()=>{
            div.parentNode.removeChild(div)
          })
  
          input.value = ""
        }
      })
      
    })
  </script>
</head>
<body>
    
</body>
</html>