<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script>
        document.addEventListener("DOMContentLoaded",()=>{
            
            // 선택상자
            const select = document.querySelector("select");
            const p = document.querySelector("p");

            select.addEventListener("change",(e)=>{
                const options = e.currentTarget.options;
                const index = options.selectedIndex
                p.textContent = `선택 : ${options[index].textContent}`

                // 콘솔창 확인
                console.log(options);
                console.log(index);
            })

            
            // 다중선택상자
            const selectMulti = document.querySelector("#muls");
            const pMulti = document.querySelector("#mulp");

            selectMulti.addEventListener("change",(e)=>{
                const options = e.currentTarget.options;
                const list = [];

                for (const option of options) {
                    if(option.selected){
                        list.push(option.textContent);
                    }
                }
                pMulti.textContent =  `선택 : ${list.join()}`
            })


            //문제
            const cm = document.querySelector("#text");
            const span = document.querySelector("#span");
            const selectLength = document.querySelector("#select");
            
            const func = ()=>{
                const defaultValue = Number(cm.value);
                const selected = selectLength.options[selectLength.options.selectedIndex];
                
                span.textContent = Number(defaultValue*selected.value);
            }

            cm.addEventListener("keyup",()=>{
                const defaultValue = Number(cm.value)
                const selected = selectLength.options[selectLength.options.selectedIndex];
                
                console.log(`현재값 : ${defaultValue}`);
                console.log(`선택된 단위 : ${selected.textContent}`);

                console.log(selected)

                span.textContent = Number(defaultValue*selected.value);
            })

            // 아래는 위와같으나, 단순히 함수를 따로 위에서 만들어
            // 콜백함수로서 안에 넣어줬을 뿐임
            selectLength.addEventListener("change",func)
        })
    </script>
</head>
<body>
    <!-- 드롭박스라고도 한다 -->
    <select name="" id="">
        <option value="">떡볶이</option>
        <option value="">순대</option>
        <option value="">오뎅</option>
        <option value="">튀김</option>
    </select>

    <p>선택 : 떡볶이</p>

    <hr>
    <!-- 다중선택상자는 multiple을 이용 -->
    <select name="" id="muls" multiple>
        <option value="">떡볶이</option>
        <option value="">순대</option>
        <option value="">오뎅</option>
        <option value="">튀김</option>
    </select>

    <p id="mulp">선택 : 떡볶이</p>

    <hr>
    <h2>종합문제</h2>
    <input type="text" name="" id="text" placeholder="0" > cm = 
    <span id="span">0</span>
    <select name="" id="select">
        <option value="10">mm</option>
        <option value="0.01">m</option>
        <option value="0.393701">inch</option>
    </select>
</body>
</html>